
> phonegap@3.5.0-0.21.18 test /Users/lorin/dev/cordova/pg-cli
> jasmine-node --color spec

[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[31mF[0m[31mF[0m[31mF[0m[31mF[0m[31mF[0m[31mF[0m[31mF[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[31mF[0m[31mF[0m[31mF[0m[31mF[0m[31mF[0m[31mF[0m[31mF[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[31mF[0m[31mF[0m[31mF[0m[31mF[0m[31mF[0m[31mF[0m[31mF[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[31mF[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m

Failures:

  1) phonegap.build(options, [callback]) should require options
   Message:
     [31msupports() method does not exist[0m
   Stacktrace:
     undefined

  2) phonegap.build(options, [callback]) should require options.platforms
   Message:
     [31msupports() method does not exist[0m
   Stacktrace:
     undefined

  3) phonegap.build(options, [callback]) should not require callback
   Message:
     [31msupports() method does not exist[0m
   Stacktrace:
     undefined

  4) phonegap.build(options, [callback]) should change to project directory
   Message:
     [31msupports() method does not exist[0m
   Stacktrace:
     undefined

  5) phonegap.build(options, [callback]) should change to project directory
   Message:
     [31mError: Expected a spy, but got Function.[0m
   Stacktrace:
     Error: Expected a spy, but got Function.
    at null.<anonymous> (/Users/lorin/dev/cordova/pg-cli/spec/phonegap/build.spec.js:64:28)

  6) phonegap.build(options, [callback]) should return itself
   Message:
     [31msupports() method does not exist[0m
   Stacktrace:
     undefined

  7) phonegap.build(options, [callback]) with local environment should try to build the project locally
   Message:
     [31msupports() method does not exist[0m
   Stacktrace:
     undefined

  8) phonegap.build(options, [callback]) with local environment should try to build the project locally
   Message:
     [31mTypeError: Cannot call method 'andCallFake' of undefined[0m
   Stacktrace:
     TypeError: Cannot call method 'andCallFake' of undefined
    at null.<anonymous> (/Users/lorin/dev/cordova/pg-cli/spec/phonegap/build.spec.js:76:39)

  9) phonegap.build(options, [callback]) with local environment should try to build the project locally
   Message:
     [31mExpected spy build to have been called with [ { platforms : [ 'android' ] }, Function ] but it was never called.[0m
   Stacktrace:
     Error: Expected spy build to have been called with [ { platforms : [ 'android' ] }, Function ] but it was never called.
    at null.<anonymous> (/Users/lorin/dev/cordova/pg-cli/spec/phonegap/build.spec.js:84:42)

  10) phonegap.build(options, [callback]) with remote environment should try to build the project remotely
   Message:
     [31msupports() method does not exist[0m
   Stacktrace:
     undefined

  11) phonegap.build(options, [callback]) with remote environment should try to build the project remotely
   Message:
     [31mTypeError: Cannot call method 'andReturn' of undefined[0m
   Stacktrace:
     TypeError: Cannot call method 'andReturn' of undefined
    at null.<anonymous> (/Users/lorin/dev/cordova/pg-cli/spec/phonegap/build.spec.js:90:39)

  12) phonegap.build(options, [callback]) with remote environment should try to build the project remotely
   Message:
     [31mExpected spy build to have been called with [ { platforms : [ 'android' ] }, Function ] but it was never called.[0m
   Stacktrace:
     Error: Expected spy build to have been called with [ { platforms : [ 'android' ] }, Function ] but it was never called.
    at null.<anonymous> (/Users/lorin/dev/cordova/pg-cli/spec/phonegap/build.spec.js:96:43)

  13) phonegap.install(options, [callback]) should require options
   Message:
     [31msupports() method does not exist[0m
   Stacktrace:
     undefined

  14) phonegap.install(options, [callback]) should require options.platforms
   Message:
     [31msupports() method does not exist[0m
   Stacktrace:
     undefined

  15) phonegap.install(options, [callback]) should not require callback
   Message:
     [31msupports() method does not exist[0m
   Stacktrace:
     undefined

  16) phonegap.install(options, [callback]) should change to project directory
   Message:
     [31msupports() method does not exist[0m
   Stacktrace:
     undefined

  17) phonegap.install(options, [callback]) should change to project directory
   Message:
     [31mError: Expected a spy, but got Function.[0m
   Stacktrace:
     Error: Expected a spy, but got Function.
    at null.<anonymous> (/Users/lorin/dev/cordova/pg-cli/spec/phonegap/install.spec.js:61:28)

  18) phonegap.install(options, [callback]) should return itself
   Message:
     [31msupports() method does not exist[0m
   Stacktrace:
     undefined

  19) phonegap.install(options, [callback]) with local environment should try to install the app locally
   Message:
     [31msupports() method does not exist[0m
   Stacktrace:
     undefined

  20) phonegap.install(options, [callback]) with local environment should try to install the app locally
   Message:
     [31mTypeError: Cannot call method 'andCallFake' of undefined[0m
   Stacktrace:
     TypeError: Cannot call method 'andCallFake' of undefined
    at null.<anonymous> (/Users/lorin/dev/cordova/pg-cli/spec/phonegap/install.spec.js:73:43)

  21) phonegap.install(options, [callback]) with local environment should try to install the app locally
   Message:
     [31mExpected spy install to have been called with [ { platforms : [ 'android' ] }, Function ] but it was never called.[0m
   Stacktrace:
     Error: Expected spy install to have been called with [ { platforms : [ 'android' ] }, Function ] but it was never called.
    at null.<anonymous> (/Users/lorin/dev/cordova/pg-cli/spec/phonegap/install.spec.js:81:44)

  22) phonegap.install(options, [callback]) with remote environment should try to install the app remotely
   Message:
     [31msupports() method does not exist[0m
   Stacktrace:
     undefined

  23) phonegap.install(options, [callback]) with remote environment should try to install the app remotely
   Message:
     [31mTypeError: Cannot call method 'andReturn' of undefined[0m
   Stacktrace:
     TypeError: Cannot call method 'andReturn' of undefined
    at null.<anonymous> (/Users/lorin/dev/cordova/pg-cli/spec/phonegap/install.spec.js:87:43)

  24) phonegap.install(options, [callback]) with remote environment should try to install the app remotely
   Message:
     [31mExpected spy install to have been called with [ { platforms : [ 'android' ] }, Function ] but it was never called.[0m
   Stacktrace:
     Error: Expected spy install to have been called with [ { platforms : [ 'android' ] }, Function ] but it was never called.
    at null.<anonymous> (/Users/lorin/dev/cordova/pg-cli/spec/phonegap/install.spec.js:93:45)

  25) phonegap.run(options, [callback]) should require options
   Message:
     [31msupports() method does not exist[0m
   Stacktrace:
     undefined

  26) phonegap.run(options, [callback]) should require options.platforms
   Message:
     [31msupports() method does not exist[0m
   Stacktrace:
     undefined

  27) phonegap.run(options, [callback]) should not require callback
   Message:
     [31msupports() method does not exist[0m
   Stacktrace:
     undefined

  28) phonegap.run(options, [callback]) should change to project directory
   Message:
     [31msupports() method does not exist[0m
   Stacktrace:
     undefined

  29) phonegap.run(options, [callback]) should change to project directory
   Message:
     [31mError: Expected a spy, but got Function.[0m
   Stacktrace:
     Error: Expected a spy, but got Function.
    at null.<anonymous> (/Users/lorin/dev/cordova/pg-cli/spec/phonegap/run.spec.js:49:28)

  30) phonegap.run(options, [callback]) should return itself
   Message:
     [31msupports() method does not exist[0m
   Stacktrace:
     undefined

  31) phonegap.run(options, [callback]) with local environment should try to run the project locally
   Message:
     [31msupports() method does not exist[0m
   Stacktrace:
     undefined

  32) phonegap.run(options, [callback]) with local environment should try to run the project locally
   Message:
     [31mTypeError: Cannot call method 'andReturn' of undefined[0m
   Stacktrace:
     TypeError: Cannot call method 'andReturn' of undefined
    at null.<anonymous> (/Users/lorin/dev/cordova/pg-cli/spec/phonegap/run.spec.js:61:43)

  33) phonegap.run(options, [callback]) with local environment should try to run the project locally
   Message:
     [31mExpected spy run to have been called with [ { platforms : [ 'android' ] }, Function ] but it was never called.[0m
   Stacktrace:
     Error: Expected spy run to have been called with [ { platforms : [ 'android' ] }, Function ] but it was never called.
    at null.<anonymous> (/Users/lorin/dev/cordova/pg-cli/spec/phonegap/run.spec.js:69:40)

  34) phonegap.run(options, [callback]) with remote environment should try to run the project remotely
   Message:
     [31msupports() method does not exist[0m
   Stacktrace:
     undefined

  35) phonegap.run(options, [callback]) with remote environment should try to run the project remotely
   Message:
     [31mTypeError: Cannot call method 'andReturn' of undefined[0m
   Stacktrace:
     TypeError: Cannot call method 'andReturn' of undefined
    at null.<anonymous> (/Users/lorin/dev/cordova/pg-cli/spec/phonegap/run.spec.js:75:43)

  36) phonegap.run(options, [callback]) with remote environment should try to run the project remotely
   Message:
     [31mExpected spy run to have been called with [ { platforms : [ 'android' ] }, Function ] but it was never called.[0m
   Stacktrace:
     Error: Expected spy run to have been called with [ { platforms : [ 'android' ] }, Function ] but it was never called.
    at null.<anonymous> (/Users/lorin/dev/cordova/pg-cli/spec/phonegap/run.spec.js:83:41)

  37) project project.cd(delegate) when in a subdirectory of the project path should return the path
   Message:
     [31mError: ENOENT, no such file or directory[0m
   Stacktrace:
     Error: ENOENT, no such file or directory
    at process.chdir (/Users/lorin/dev/cordova/connect-phonegap/node_modules/tar/node_modules/fstream/node_modules/graceful-fs/polyfills.js:14:9)
    at process.chdir (/Users/lorin/dev/cordova/pg-cli/node_modules/cordova-lib/node_modules/tar/node_modules/fstream/node_modules/graceful-fs/polyfills.js:14:9)
    at process.chdir (/Users/lorin/dev/cordova/pg-cli/node_modules/cordova-lib/node_modules/npm/node_modules/graceful-fs/polyfills.js:14:9)
    at chdir (/Users/lorin/dev/cordova/pg-cli/node_modules/chdir/index.js:5:13)
    at null.<anonymous> (/Users/lorin/dev/cordova/pg-cli/spec/phonegap/util/project.spec.js:55:17)

Finished in 2.213 seconds
[31m531 tests, 601 assertions, 37 failures, 0 skipped
[0m

